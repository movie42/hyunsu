---
slug: "/25_04_22"
date: "2025-04-22"
title: "한 줄"
tags: ["etc"]
---

한 줄이 문제였다. 정말 딱 한 줄이 문제였다. 많은 시간 코드를 읽고 검토하고 테스트를 수백번 했는데 결국 딱 한줄이 문제였다.

```ts
code: TYPE === "unknown" ? "0" : code;
```

이 한 줄이 처음부터 마음에 들지 않았던건 아니었다. 기능 개발하느라 정신이 없었고 신경도 안썼다. 하지만 코드를 수십번 읽으면서
코드가 눈에 읽고 나니 탐욕이 생겼다.

'저 unknown은 더이상 쓰이지 않는데...'

코드 리뷰를 올리기 전부터 지울까 말까 고민하다가 결국 수정했다.

```ts
code: TYPE === code;
```

사실 code는 이미 타입이 있다. string. 그런데 마치 함수는 나에게 선심이라도 쓰듯 code를 자연스럽게 boolean에서 string으로 바꿔 돌려주었다.
함수의 행동은 모두에게 재앙이었다. 아니 내 행동이 재앙이 된거지. 그리고 결제 데이터에 code는 무조건 "false"로 저장되어 결국 레포트에 아무것도 올라오지 않았다.

탐욕스러운 딱 한 줄.

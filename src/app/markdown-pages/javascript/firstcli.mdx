---
date: "2024-03-15"
title: "ë‚˜ì˜ ì²« cli íˆ´"
tags: ["node", "cli", "programming"]
---

íšŒì‚¬ì—ì„œ ì²˜ìŒìœ¼ë¡œ ì›¨ì´íŒ…ì´ë¼ëŠ” í”„ëŸ¬ë•íŠ¸ë¥¼ ê°œë°œí•˜ê²Œ ë˜ì—ˆë‹¤. ì›¨ì´íŒ…ì€ ëª¨ë…¸ë ˆí¬ë¡œ ë˜ì–´ìˆëŠ”ë° ì´ 6ê°œì˜ ë ˆí¬ê°€ ë¬¶ì—¬ìˆì—ˆë‹¤.
yarn workspaceë¡œ êµ¬ì„±ì´ ë˜ì–´ìˆëŠ”ë° ëª…ë ¹ì–´ë¥¼ ì¹˜ëŠ”ê²Œ ë„ˆë¬´ ì–´ë ¤ì› ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ adminì„ ì‹¤í–‰í•´ì•¼í•œë‹¤ë©´
cli ëª…ë ¹ì–´ë¥¼ ë§¤ìš° ê¸¸ê²Œ ì‘ì„±í•´ì•¼í–ˆë‹¤.

```zsh
yarn workspace @admin/A start:dev
```

ë‹¤ë¥¸ í”„ëŸ¬ë•íŠ¸ë„ ëª¨ë…¸ë ˆí¬ë¡œ ë˜ì–´ìˆëŠ”ê²Œ ìˆì–´ì„œ ì²˜ìŒì—ëŠ” package.jsonì— ë‹¨ì¶•ì–´ë¥¼ ë§Œë“œë ¤ê³  í–ˆë‹¤.

<Tabs>

```json
// title package.json
{
  "scripts": {
    "A": "yarn workspace @A"
  }
}
```

```zsh
# title cli
yarn A start:dev
```

</Tabs>

í•˜ì§€ë§Œ êµ¬ì¡°ìƒ ì´ë ‡ê²Œ ë§Œë“¤ ìˆ˜ê°€ ì—†ì—ˆë‹¤. ì™œëƒí•˜ë©´ ìœ„ ëª…ë ¹ì–´ëŠ” partnerë¼ëŠ” ê³µí†µ í”„ëŸ¬ë•íŠ¸ë¥¼ ë¬¶ì–´ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— workspaceì˜ ì´ë¦„ì´ Aì™€ Bë¡œ ë‚˜ë‰œë‹¤.
ì›¨ì´íŒ…ì€ A, B ì•ˆì— ê°ê° admin, client, checkê°€ ìˆê¸° ë•Œë¬¸ì— workspace ì´ë¦„ì´ client/A ë¡œ ë˜ì–´ìˆì—ˆë‹¤.
ê·¸ë˜ì„œ ê³ ë¯¼ì„ í•˜ë‹¤ê°€ yarn create viteë¥¼ í–ˆì„ ë•Œ, shellì—ì„œ ì›í•˜ëŠ” ì˜µì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì— ì°©ì•ˆí•´ì„œ cli íˆ´ì„ ë§Œë“¤ì–´ë³´ê¸°ë¡œ í–ˆë‹¤.
nodeë„ clië¥¼ ë§Œë“œëŠ”ê²Œ ê°€ëŠ¥í–ˆëŠ”ë° GPT ë•ë¶„ì— ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆì—ˆë‹¤.

<Tabs>

```javascript
// title choose-workspace.js
const readline = require("readline");
const { spawn } = require("child_process");

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

const packages = ["A", "B"];
const workspace = ["admin", "client", "check"];
const environments = ["dev", "staging", "production"];

const askQuestion = (question, choices) => {
  return new Promise((resolve) => {
    console.log(question);
    choices.forEach((choice, index) => {
      console.log(`${index + 1}: ${choice}`);
    });
    rl.question("Enter your choice (number): ", (answer) => {
      const choiceIndex = parseInt(answer, 10) - 1;
      if (choiceIndex >= 0 && choiceIndex < choices.length) {
        resolve(choices[choiceIndex]);
      } else {
        console.log("Invalid choice, please try again.");
        resolve(askQuestion(question, choices));
      }
    });
  });
};

const runCommand = (workspace, package, env) => {
  const scriptMap = {
    dev: "start:dev",
    staging: "start:staging",
    production: "start:prod"
  };
  const args = [`workspace`, `@${workspace}/${package}`, `run`, `${scriptMap[env]}`];

  console.log(`Executing: yarn ${args.join(" ")}`);

  const proc = exec("yarn", args, { stdio: "inherit" });

  proc.on("error", (error) => {
    console.error(`Error: ${error}`);
  });

  proc.on("close", (code) => {
    console.log(`Process exited with code ${code}`);
    rl.close(); // Make sure to close the readline interface
  });
};

const main = async () => {
  const workspace = await askQuestion("Select a workspace:", workspaces);
  const package = await askQuestion("Select a package:", packages);
  const env = await askQuestion("Select an environment:", environments);
  runCommand(workspace, package, env);
};

main();
```

```json
// title package.json
{
  "scripts": {
    "start": "node ./choose-workspace.js"
  }
}
```

```zsh
# title cli
# focus(1:1)
yarn start
yarn run v1.22.21
$ node ./choose-workspace.js
Select a workspace:
1: admin
2: client
3: check
Enter your choice (number): 1
Select a package:
1: A
2: B
Enter your choice (number): 1
Select an environment:
1: dev
2: staging
3: production
Enter your choice (number): 1
Executing: yarn workspace @admin/A run start:dev
```

</Tabs>

# ë§Œë“¤ê¸´ í–ˆëŠ”ë° webpack ìƒíƒœê°€ í„°ë¯¸ë„ì— í‘œì‹œê°€ ì•ˆëœë‹¤!?

í•˜ì§€ë§Œ ëª…ë ¹ì–´ ì‹¤í–‰ í›„ webpackì—ì„œ hot reloadê°€ ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ê°€ ì—†ì—ˆë‹¤. ì¦‰ ìƒíƒœì°½ ì—†ì´ ê°œë°œí•´ì•¼í•˜ëŠ” ìƒí™©ê³¼ ë˜‘ê°™ì•˜ë‹¤.
GPTëŠ” execë¥¼ spawnìœ¼ë¡œ ë³€ê²½í•  ê²ƒì„ ì œì•ˆí•´ì¤¬ë‹¤.

execë¥¼ ì‚¬ìš©í•´ ë‹¤ë¥¸ ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ, ìì‹í”„ë¡œì„¸ìŠ¤ì˜ stdoutì™€ stderrì€ ë¶€ëª¨ì˜ í”„ë¡œì„¸ìŠ¤(node.js)ì— ì˜í•´ì„œ ê´€ë¦¬ëœë‹¤.
ê·¸ë˜ì„œ webpackê³¼ ê°™ì€ ë„êµ¬ì—ì„œ ë°œìƒí•˜ëŠ” ì¶œë ¥ì´ í„°ë¯¸ë„ì— í‘œì‹œë˜ì§€ ì•Šì•˜ë‹¤. spawnìœ¼ë¡œ ë³€ê²½í•˜ë©´ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ
ìŠ¤íŠ¸ë¦¼ì„ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ê³  í•œë‹¤. ì½”ë“œë¥¼ execì—ì„œ spawnìœ¼ë¡œ ë³€ê²½í–ˆë‹¤.
ì´ë ‡ê²Œ ë³€ê²½í•˜ë‹ˆê¹Œ Webpackì˜ ì¶œë ¥ ë°ì´í„°ê°€ í„°ë¯¸ë„ì— í‘œì‹œëë‹¤.

```js
- const proc = exec("yarn", args, { stdio: "inherit" });
// focus(1:1)
+ const proc = spawn("yarn", args, { stdio: "inherit" });
```

# ì¢…ë£Œë¥¼ í–ˆëŠ”ë° ì™œ í„°ë¯¸ë„ì— ì•„ë¬´ê²ƒë„ ì…ë ¥ì´ ì•ˆë˜ì§€?

ctrl + cë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•˜ë©´ í„°ë¯¸ë„ì—ì„œ ë‹¤ë¥¸ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤. í•˜ì§€ë§Œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë­”ê°€ê°€ ì¢…ë£Œê°€ ë˜ì§€ ì•Šì€ ë“¯ í•œ ëŠë‚Œì´ì—ˆë‹¤.
ì™œëƒí•˜ë©´ ë‚˜ëŠ” gitì„ ì‚¬ìš©í•  ë•Œë§ˆë‹¤ ì•”í˜¸ë¥¼ ë¬¼ì–´ë³´ëŠ”ë° ì•”í˜¸ ì…ë ¥ì´ ë˜ì§€ ì•Šì•˜ê³  ì¢…ë£Œë„ ì•ˆëë‹¤. GPTëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ê¸° ì „ì— í‘œì¤€ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì´ ë‹«íˆì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë¼ê³  í–ˆë‹¤.
ê·¸ë˜ì„œ ì¢…ë£Œí•˜ëŠ” ë¡œì§ì„ ë‹¤ì‹œ ìƒì„±í–ˆë‹¤.

```choose-workspace.js
const readline = require("readline");
const { spawn } = require("child_process");

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
});

const packages= ["A", "B"];
const workspaces = ["admin", "client", "check"];
const environments = ["dev", "staging", "production"];

const askQuestion = (question, choices) => {
  return new Promise((resolve) => {
    console.log(question);
    choices.forEach((choice, index) => {
      console.log(`${index + 1}: ${choice}`);
    });
    rl.question("Enter your choice (number): ", (answer) => {
      const choiceIndex = parseInt(answer, 10) - 1;
      if (choiceIndex >= 0 && choiceIndex < choices.length) {
        resolve(choices[choiceIndex]);
      } else {
        console.log("Invalid choice, please try again.");
        resolve(askQuestion(question, choices));
      }
    });
  });
};

const runCommand = (workspace, package, env) => {
  const scriptMap = {
    dev: "start:dev",
    staging: "start:stg",
    production: "start:prd",
  };
  const args = [
    `workspace`,
    `@${package}/${workspace}`,
    `run`,
    `${scriptMap[env]}`,
  ];

  console.log(`Executing: yarn ${args.join(" ")}`);

  childProcess = spawn("yarn", args, { stdio: "inherit" });

  childProcess.on("error", (error) => {
    console.error(`Error: ${error}`);
  });

  childProcess.on("close", (code) => {
    console.log(`Process exited with code ${code}`);
  });
};

// focus(1:21)
process.on("SIGINT", () => {
  console.log("Received SIGINT. Cleaning up...");

  // readline ì¸í„°í˜ì´ìŠ¤ ë‹«ê¸°
  rl.close();

  // í‘œì¤€ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì„ ìˆ˜ë™ìœ¼ë¡œ ì¢…ë£Œ
  process.stdin.destroy();

  if (childProcess) {
    childProcess.on('exit', function () {
      // ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ë©´, Node í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.
      process.exit();
    });
    // ìì‹ í”„ë¡œì„¸ìŠ¤ì—ê²Œ SIGINT ì‹œê·¸ë„ì„ ì „ë‹¬í•˜ì—¬ ì¢…ë£Œë¥¼ ì‹œë„í•©ë‹ˆë‹¤.
    childProcess.kill('SIGINT');
  } else {
    // ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ì—†ìœ¼ë©´ ë°”ë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤.
    process.exit();
  }
});

const main = async () => {
  const workspace = await askQuestion("Select a workspace:", workspaces);
  const package = await askQuestion("Select a package:", packages);
  const env = await askQuestion("Select an environment:", environments);
  runCommand(workspace, package, env);
};

main();
```

ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë‚´ê°€ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

# ë§ˆë¬´ë¦¬

ê°œë°œì„ í•˜ë‹¤ë³´ë©´ ë¶ˆí¸í•œê²Œ ë§ë‹¤. ê·¸ëŸ´ë•Œë©´ í•­ìƒ 'ì´ê±° ë¶ˆí¸í•œë° ì–´ë–»ê²Œ í•´ì•¼ ì¡°ê¸ˆ ë” í¸í•´ì§ˆ ìˆ˜ ìˆì„ê¹Œ'ë¥¼ ìƒê°í•˜ê²Œ ëœë‹¤.
'ì´ë ‡ê²Œ ê³ ì³ë³´ë©´ ë” í¸í•´ì§€ê² ë‹¤'ë¼ê³  ìƒê°í•˜ëŠ” ë‹¨ê³„ë¡œ ë‚˜ê°€ê¸°ëŠ” ìƒê°ë³´ë‹¤ ì‰½ì§€ ì•Šë‹¤.
ì„ í—˜ì  ì§€ì‹ì´ ì—†ê¸° ë•Œë¬¸ì´ê±°ë‚˜ ë¬´ì—‡ì„ ê³ ì³ì•¼í• ì§€ ëª¨ë¥´ê±°ë‚˜ ê³ ì³¤ì§€ë§Œ ë” ì•…í™”ë˜ê±°ë‚˜ í•˜ëŠ” ìƒí™©ë“¤ì„ ìì£¼ ë§ì£¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
í•˜ì§€ë§Œ ë‚˜ í˜¼ì ê°œë°œì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì¶©ë¶„íˆ ê°œì„ í•  ìˆ˜ ìˆë‹¤. ê³ ì¹˜ê³  PR ì˜¬ë¦¬ê³  ë¦¬ë·° ë°›ê³  ë˜ ê³ ì¹˜ê³  í•˜ëŠ” ì¼ì„ ë°˜ë³µí•˜ë©´ì„œ ê³ ë¯¼í•˜ê³  ë°°ìš´ë‹¤.
ë™ë£Œë“¤ì€ ë§ì€ ì‹œê°„ì„ ë“¤ì—¬ì„œ ë‚˜ì—ê²Œ ì¢‹ì€ ì¡°ì–¸ë“¤ì„ í•´ì£¼ì—ˆë‹¤.

node.jsë¡œ clië¥¼ ë§Œë“œëŠ” ê²ƒì€ ìƒê°ì¹˜ ëª»í–ˆë˜ ì¼ì´ë‹¤. C++ì„ ë°°ìš¸ ë•ŒëŠ” ì²˜ìŒì— std ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ cliì— ì…, ì¶œë ¥ì„ í•´ë³´ëŠ”ê²ƒì´ ìì—°ìŠ¤ëŸ½ì§€ë§Œ
node.jsëŠ” ë°”ë¡œ npm packageë¥¼ êµ¬ì„±í•˜ê³  ë‚œ ë’¤ expressë¥¼ ì„¤ì¹˜í•´ì„œ ì„œë²„ë¥¼ ë§Œë“œëŠ” ì¼ë¡œ ë„˜ì–´ê°€ê¸° ë•Œë¬¸ì— cli ì…ì¶œë ¥ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì²˜ìŒ ì•Œì•˜ë˜ ê²ƒ ê°™ë‹¤.
'node.jsëŠ” ì„œë²„ê°€ ì•„ë‹™ë‹ˆë‹¤. ëŸ°íƒ€ì„ í™˜ê²½ì…ë‹ˆë‹¤.'ë¥¼ ë“¤ì–´ë´¤ì§€ë§Œ ê·¸ë ‡ê²Œ í™œìš©í•œ ì‚¬ë¡€ëŠ” ì—†ì—ˆë˜ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ë¶„ëª… ë‚˜ëŠ” ì²˜ìŒ nodejsë¥¼ ë§Œì§ˆ ë•Œ í¸í•˜ê²Œ package.jsonì„ ë§Œë“¤ì—ˆì—ˆë‹¤.
ì§€ê¸ˆ ë‹¹ì¥ í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ë³´ì.

```zsh
npm init
```

ê·¸ëŸ¼ í„°ë¯¸ë„ ì…ì¶œë ¥ì´ ë‚˜ì˜¤ë©´ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ê³  ì €ì¥í•´ë‘ì—ˆë‹¤ê°€ ë‚˜ì¤‘ì— package.jsonì„ ì‘ì„±í•´ì£¼ëŠ” ê²½í—˜ì„ ì´ë¯¸ í–ˆì—ˆë‹¤.
ë˜ viteë‚˜ nextjsë¥¼ ì„¤ì¹˜í•  ë•Œ ì„ íƒí•œ í™˜ê²½ì„ êµ¬ì„±í•´ì£¼ëŠ” ê²ƒë„ ê²½í—˜í–ˆì—ˆë‹¤. ë‹¤í–‰ì´ ì´ëŸ° ê²ƒë“¤ì„ ë¯¸ë¦¬ ê²½í—˜í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆì— clië¥¼ ë§Œë“¤ì–´ ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.
ê²Œë‹¤ê°€ chat GPTê°€ ìˆë‹¤. ê²½í—˜ì„ ê¸€ë¡œ í’€ì–´ì„œ ì„¤ëª…í•˜ë©´ ê·¸ ê²½í—˜ì„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆê³  ì‰½ê²Œ ì¬í˜„ë„ í•  ìˆ˜ ìˆë‹¤.
GPTê°€ ì–¸ì  ê°€ëŠ” ë‚´ ì¼ìë¦¬ë¥¼ ìœ„í˜‘í•˜ëŠ” ë‚ ì´ ì˜¤ê² ì§€ë§Œ ì§€ê¸ˆì€ ì˜ í™œìš©í•˜ë©´ ê°œë°œì„ ë¹ ë¥´ê²Œ ì˜ í•  ìˆ˜ ìˆëŠ” ì‹œëŒ€ê°€ ì˜¨ ê²ƒ ê°™ë‹¤.

- ì´ë²ˆ ê¸€ì—ì„œ ì‚¬ìš©ëœ ì½”ë“œ ë ˆí¬ë‹¤ [monorepo-cli](https://github.com/movie42/monorepo-cli) ì•„ì§ ë¶€ì¡±í•œ ì ì´ ë§ë‹¤. ê°œì„ ì‚¬í•­ì„ todoë¡œ ì ì–´ë†“ëŠ”ë‹¤.

  - [x] install / uninstall package
  - [ ] build / test script
  - [ ] git commit (ì´ëŸ°ê±´ ë§ì„ ê²ƒ ê°™ì€ë°...)

---

# install / uninstall package

- 2024-03-23 ì¶”ê°€

íŒ¨í‚¤ì§€ ì„¤ì¹˜, ì œê±° í•  ë•Œ ì–´ë–¤ workspaceì—ì„œ ì„¤ì¹˜, ì œê±° í•  ê²ƒì¸ì§€ ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆë‹¤. ëŒ€ì²´ì ì¸ íë¦„ì€ ë¹„ìŠ·í•˜ë‹¤.

## input-text.js ë§Œë“¤ê¸°

addì¸ì§€ removeì¸ì§€ ì„ íƒí•˜ë©´ ì¢‹ê² ì§€ë§Œ ì‚¬ìš©ìì—ê²Œ ììœ ë„ë¥¼ ì£¼ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤ê³  íŒë‹¨í•´ì„œ workspaceê¹Œì§€ë§Œ ë§Œë“¤ê³  ë‚˜ë¨¸ì§€ëŠ” ì‚¬ìš©ì ê°’ì„ ë°›ì•„ì„œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œí‚¤ë„ë¡ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ê¸°ë¡œ í–ˆë‹¤.
êµ¬ì²´ì ì¸ íë¦„ì€ choose-workspace.jsì™€ ê°™ë‹¤.

```text-command.js
const readline = require("readline");
const { spawn } = require("child_process");

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

const packages = ["A", "B"];
const workspaces = ["admin", "client", "check"];

const askForPackageToInstall = async () => {
  const customCommandInput = await new Promise((resolve) => {
    rl.question("Enter the custom command (e.g., add react): ", resolve);
  });
  return customCommandInput;
};

const askQuestion = (question, choices) => {
  return new Promise((resolve) => {
    console.log(question);
    choices.forEach((choice, index) => {
      console.log(`${index + 1}: ${choice}`);
    });
    rl.question("Enter your choice (number): ", (answer) => {
      const choiceIndex = parseInt(answer, 10) - 1;
      if (choiceIndex >= 0 && choiceIndex < choices.length) {
        resolve(choices[choiceIndex]);
      } else {
        console.log("Invalid choice, please try again.");
        resolve(askQuestion(question, choices));
      }
    });
  });
};

const runCommand = (workspace, package, command) => {
  const args = [`workspace`, `@${package}/${workspace}`, `${command}`];

  console.log(`Executing: yarn ${args.join(" ")}`);

  childProcess = spawn("yarn", args, { stdio: "inherit" });

  childProcess.on("error", (error) => {
    console.error(`Error: ${error}`);
  });

  childProcess.on("close", (code) => {
    console.log(`Process exited with code ${code}`);
  });
};

process.on("SIGINT", () => {
  console.log("Received SIGINT. Cleaning up...");

  rl.close();

  process.stdin.destroy();

  if (childProcess) {
    childProcess.on("exit", function () {
      process.exit();
    });

    childProcess.kill("SIGINT");
  } else {
    process.exit();
  }
});

const main = async () => {
  const workspace = await askQuestion("Select a workspace:", workspaces);
  const package = await askQuestion("Select a package:", packages);
  const command = await askForPackageToInstall();
  runCommand(workspace, package, command);
};

main();

```

```package.json
{
  "scripts": {
    "start": "node ./choose-workspace.js",
    // focus(1)
    "etc": "node ./choose-workspace.js"
  }
}
```

ì´ë ‡ê²Œ í•´ì„œ etcë¥¼ ì‹¤í–‰í•˜ë©´ commandë¥¼ ì…ë ¥ë°›ì•„ì„œ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

## í•˜ì§€ë§Œ ì„¤ì¹˜ê°€ ì•ˆë˜ëŠ”ê±¸?

ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± í›„ì— etcë¥¼ ì‹¤í–‰í•´ë³´ì.

```shell
yarn etc
Select a workspace:
1: admin
2: client
3: check
Enter your choice (number): 1
Select a package:
1: A
2: B
Enter your choice (number): 1
Enter the custom command (e.g., add @radix-ui/react-radio-group): add react
Executing: yarn workspace @A/admin add react
```

ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì…ë ¥í•œ ê°’ì„ ë°›ì•„ì„œ ì‹¤í–‰ì€ ì‹œí‚¤ì§€ë§Œ ì…ë ¥í•œ commandê°€ ì—†ëŠ” commandë¼ëŠ” ì—ëŸ¬ë¥¼ ë°›ê²Œ ëœë‹¤.
spawn í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤í–‰í•˜ê³  ìˆê¸° ë•Œë¬¸ì¸ë° spawnì€ ë°°ì—´ë¡œ ì»¤ë§¨ë“œë¥¼ ì „ë‹¬í•˜ê¸° ë•Œë¬¸ì— stringì€ í•˜ë‚˜ì˜ ì»¤ë§¨ë“œë¡œ ì¸ì‹í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
ê°„ë‹¨í•˜ê²Œ í•´ë‹¹ ë¶€ë¶„ì„ ìˆ˜ì •í–ˆë‹¤.

```text-command.js
   const args = [`workspace`, `@${package}/${workspace}`, ...command.split(' ')];
```

ì´ë ‡ê²Œ ìˆ˜ì •í•œ ë’¤ì— etc ëª…ë ¹ì–´ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ commandë¥¼ ë°›ì•„ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ì´ ì½”ë“œëŠ” [monorepo-cli](https://github.com/movie42/monorepo-cli)ì— ì˜¬ë ¤ ë†“ì•˜ë‹¤.

# ë¶€ë¡ - node clië¥¼ ë§Œë“¤ ë•Œ ë„ì›€ì´ ë ë§Œí•œ ìë£Œ

clië¥¼ packageë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ì„ê¹Œ ì°¾ì•„ë³´ì•˜ë‹¤. ëª‡ê°œì˜ ìë£Œê°€ ìˆì–´ì„œ ê³µìœ í•˜ë ¤ê³  í•œë‹¤.

Ahmandë¼ëŠ” ê²ŒìŠ¤íŠ¸ê°€ Jasonë¼ëŠ” ê°œë°œìì—ê²Œ ìì‹ ì˜ nodejs cli íŒì„ ì•Œë ¤ì£¼ë©´ì„œ ë°°ìš°ëŠ” ì»¨í…ì¸ (ê°•ì¶”)

- ğŸ¥ [Automating Tasks with Node CLIs (with Ahmad Awais) â€” Learn With Jason](https://youtu.be/V1GkmB7T7Ps?si=QQOMcdow9wnrxIAc)
- [ë™ì˜ìƒì—ì„œ ì‚¬ìš©ëœ ë ˆí¬](https://github.com/ahmadawais/lwj-cli)

- ğŸ¥ [Build a Dynamic CLI with Inquirer and Node.js: A Step-by-Step Guide](https://youtu.be/CfS6eOBe8AY?si=muLnia-FkgFwlMUZ)
- ğŸ¥ [Node.js Tutorial - 58 - Building CLI Tools](https://youtu.be/y-zS9XV_kRM?si=9LPe9J53kVSeaLQm)
- ğŸ¥ [Node.js Tutorials - 59 - CLI Options](https://youtu.be/oIg08Z0bqsY?si=vOcBVADPSsxGCh28)
- ğŸ¥ [Node.js Tutorial - 60 - Interactive CLI Tools](https://youtu.be/sJdqdGxRbXY?si=UGAlO6pJ6tAQj3vz)

- [nodejs-cli-apps-best-practices](https://github.com/lirantal/nodejs-cli-apps-best-practices?tab=readme-ov-file) ì´ ë ˆí¬ë¥¼ êµ¬ê²½í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì„ ê²ƒ ê°™ë‹¤.
